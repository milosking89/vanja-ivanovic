<div class="products-container">
  <h1>Astrološki Proizvodi</h1>
  <p class="intro">Otkrijte našu kolekciju proizvoda koji će vam pomoći da se povežete sa kosmičkim energijama</p>

  <!-- Korpa -->
  <div class="cart-section" *ngIf="cartItems.length > 0">
    <h3>🛒 Korpa ({{ cartItems.length }})</h3>
    <div class="cart-items">
      <div *ngFor="let item of cartItems" class="cart-item">
        <span>{{ item.name }}</span>
        <span class="price">{{ item.price }} din</span>
        <button (click)="removeFromCart(item)" class="remove-btn">✕</button>
      </div>
    </div>
    <div class="cart-total">
      <strong>Ukupno: {{ getCartTotal() }} din</strong>
    </div>
    <div class="order-section">
      <h3>🌟 Poručite svoje proizvode 🌟</h3>
      <p>Kliknite dugme ispod da poručite odabrane proizvode</p>
      <button (click)="submitCartItems()" class="order-btn-large">
        Poruči Sada
      </button>
    </div>
  </div>

  <!-- Proizvodi -->
  <div class="products-grid">
    <!-- Sveće sa kristalima -->
    <div class="product-card">
      <div class="product-image">
        <div class="image-placeholder candle-image">
          <div class="candle-icon">🕯️</div>
          <div class="crystals">💎✨💎</div>
          <div class="flame">🔥</div>
        </div>
      </div>
      <div class="product-info">
        <h3>Sveća sa kristalima po natalnoj karti</h3>
        <p class="product-description">
        Personalizovana sveća sa kristalima koji se biraju na osnovu tvoje natalne karte
        i služi za manifestovanje određene oblasti života
        </p>
        <div class="product-features">
          <span class="feature">🌙 Prirodni vosak</span>
          <span class="feature">💎 Kristali birani po tvojoj natalnoj</span>
          <span class="feature">⏰ Gorenje 30h</span>
          <span class="feature">🌟 Upustvo za korišćenje</span>
        </div>
        <div class="product-price">3,600 din</div>
        <button (click)="openProductModal()" class="add-to-cart-btn">
          Poruči svecu 📋
        </button>
      </div>
    </div>

    <!-- Mesečni horoskop -->
    <div class="product-card">
      <div class="product-image">
        <div class="image-placeholder horoscope-image">
          <div class="zodiac-wheel">
            <div class="zodiac-signs">♈♉♊♋♌♍</div>
            <div class="center-moon">🌙</div>
            <div class="zodiac-signs bottom">♎♏♐♑♒♓</div>
          </div>
        </div>
      </div>
      <div class="product-info">
        <h3>Astrološka Konsultacija</h3>

       
         <ul class="product-description">
            <li> Izrada natalne karte </li>
            <li> Godišnji horoskop </li>
            <li> Uporedni horoskop </li>
         </ul>
        <div class="product-features">
          <span class="feature">📅 Trajanje konsultacije 1h</span>
          <span class="feature">📊 Online</span>
        </div>
        <div class="product-price">8,000 din</div>
        <button (click)="openHoroscopeModal()" class="add-to-cart-btn">
          Zakaži termin 📋
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="showHoroscopeModal" (click)="closeHoroscopeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2 *ngIf="isHoroscopeProduct">🌟Astrološka Konsultacija </h2>
      <h2 *ngIf="!isHoroscopeProduct">🌟 Sveća sa kristalima po natalnoj karti</h2>
      <button class="close-btn" (click)="closeHoroscopeModal()">✕</button>
    </div>

    <div class="modal-body">
      <p *ngIf="isHoroscopeProduct">Unesite vaše podatke za izradu natalne karte!</p>
      <p *ngIf="!isHoroscopeProduct">Unesite vaše podatke za odabir kristala!</p>
      <form class="contact-form" (ngSubmit)="submitContactForm()">
        <div class="form-row">
          <div class="form-group">
            <label>Ime i prezime *</label>
            <input [(ngModel)]="contactForm.name" name="name" type="text" required class="form-input"
              placeholder="Vaše ime">
          </div>
          <div class="form-group">
            <label>Email *</label>
            <input [(ngModel)]="contactForm.email" name="email" type="email" required class="form-input"
              placeholder="vas@email.com">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Datum rođenja *</label>
            <input [(ngModel)]="contactForm.birthDate" name="birthDate" type="date" required class="form-input">
          </div>
          <div class="form-group">
            <label>Vreme rođenja</label>
            <input [(ngModel)]="contactForm.birthTime" name="birthTime" type="time" class="form-input">
          </div>
        </div>

        <div class="form-group">
          <label>Mesto rođenja *</label>
          <input [(ngModel)]="contactForm.birthPlace" name="birthPlace" type="text" required class="form-input"
            placeholder="Grad, zemlja">
        </div>

        <div class="form-group">
          <label>Dodatne informacije</label>

          <textarea *ngIf="isHoroscopeProduct" [(ngModel)]="contactForm.message" name="message1"
            class="form-input textarea"
            placeholder="Ostavite kontakt telefon i predložite termin za konsultaciju">
          </textarea>

          <textarea *ngIf="!isHoroscopeProduct" [(ngModel)]="contactForm.message" name="message2"
            class="form-input textarea" placeholder="Šta želiš da manifestuješ ">
  </textarea>
        </div>

        <button *ngIf="!isHoroscopeProduct" type="submit" class="submit-btn" [disabled]="!isFormValid()">
          📧 Dodaj u korpu
        </button>
       <button *ngIf="isHoroscopeProduct" type="submit" class="submit-btn" [disabled]="!isFormValid()">
          📧 Zakaži termin
        </button>
      </form>

      <div class="contact-info">
        <p><strong>✔ email:</strong> ivanovicvanja355@yahoo.com</p>
      </div>
    </div>
  </div>
</div>