<div class="products-container">
  <h1>AstroloÅ¡ki Proizvodi</h1>
  <p class="intro">Otkrijte naÅ¡u kolekciju proizvoda koji Ä‡e vam pomoÄ‡i da se poveÅ¾ete sa kosmiÄkim energijama</p>

  <!-- Korpa -->
  <div class="cart-section" *ngIf="cartItems.length > 0">
    <h3>ğŸ›’ Korpa ({{ cartItems.length }})</h3>
    <div class="cart-items">
      <div *ngFor="let item of cartItems" class="cart-item">
        <span>{{ item.name }}</span>
        <span class="price">{{ item.price }} din</span>
        <button (click)="removeFromCart(item)" class="remove-btn">âœ•</button>
      </div>
    </div>
    <div class="cart-total">
      <strong>Ukupno: {{ getCartTotal() }} din</strong>
    </div>
    <div class="order-section">
      <h3>ğŸŒŸ PoruÄite svoje proizvode ğŸŒŸ</h3>
      <p>Kliknite dugme ispod da poruÄite odabrane proizvode</p>
      <button (click)="submitCartItems()" class="order-btn-large">
        PoruÄi Sada
      </button>
    </div>
  </div>

  <!-- Proizvodi -->
  <div class="products-grid">
    <!-- SveÄ‡e sa kristalima -->
    <div class="product-card">
      <div class="product-image">
        <div class="image-placeholder candle-image">
          <div class="candle-icon">ğŸ•¯ï¸</div>
          <div class="crystals">ğŸ’âœ¨ğŸ’</div>
          <div class="flame">ğŸ”¥</div>
        </div>
      </div>
      <div class="product-info">
        <h3>MagiÄne SveÄ‡e sa Kristalima</h3>
        <p class="product-description">
          RuÄno pravljene sveÄ‡e obogaÄ‡ene kristalima koji pojaÄavaju astroloÅ¡ke energije.
          Svaka sveÄ‡a sadrÅ¾i paÅ¾ljivo odabrane kristale koji odgovaraju razliÄitim horoskopskim znakovima
          i planetarnim uticajima.
        </p>
        <div class="product-features">
          <span class="feature">ğŸŒ™ Prirodni vosak</span>
          <span class="feature">ğŸ’ AutentiÄni kristali</span>
          <span class="feature">â° Gorenje 40h</span>
          <span class="feature">ğŸŒŸ 12 razliÄitih varijanti</span>
        </div>
        <div class="product-price">2,500 din</div>
        <button (click)="openProductModal()" class="add-to-cart-btn">
          PoruÄi svecu ğŸ“‹
        </button>
      </div>
    </div>

    <!-- MeseÄni horoskop -->
    <div class="product-card">
      <div class="product-image">
        <div class="image-placeholder horoscope-image">
          <div class="zodiac-wheel">
            <div class="zodiac-signs">â™ˆâ™‰â™Šâ™‹â™Œâ™</div>
            <div class="center-moon">ğŸŒ™</div>
            <div class="zodiac-signs bottom">â™â™â™â™‘â™’â™“</div>
          </div>
        </div>
      </div>
      <div class="product-info">
        <h3>Konsultacija za Natalnu Kartu</h3>
        <p class="product-description">
          Å½elite detaljnu analizu vaÅ¡e roÄ‘endanske karte? Kontaktirajte me za personalizovanu konsultaciju!
        </p>
        <div class="product-features">
          <span class="feature">ğŸ“… izrada 1-2 dana</span>
          <span class="feature">ğŸ’ Personalizovano</span>
          <span class="feature">ğŸ“§ Email dostava</span>
          <span class="feature">ğŸ“Š Tranzitna analiza</span>
        </div>
        <div class="product-price">1,800 din</div>
        <button (click)="openHoroscopeModal()" class="add-to-cart-btn">
          PoruÄi natalnu kartu ğŸ“‹
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="showHoroscopeModal" (click)="closeHoroscopeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2 *ngIf="isHoroscopeProduct">ğŸŒŸ Konsultacija za Natalnu kartu </h2>
      <h2 *ngIf="!isHoroscopeProduct">ğŸŒŸ MagiÄne SveÄ‡e sa Kristalima</h2>
      <button class="close-btn" (click)="closeHoroscopeModal()">âœ•</button>
    </div>

    <div class="modal-body">
      <p>Å½elite detaljnu analizu vaÅ¡e meseÄne prognoze? Unesite vaÅ¡e podatke za personalizovanu meseÄnu konsultaciju!
      </p>

      <form class="contact-form" (ngSubmit)="submitContactForm()">
        <div class="form-row">
          <div class="form-group">
            <label>Ime i prezime *</label>
            <input [(ngModel)]="contactForm.name" name="name" type="text" required class="form-input"
              placeholder="VaÅ¡e ime">
          </div>
          <div class="form-group">
            <label>Email *</label>
            <input [(ngModel)]="contactForm.email" name="email" type="email" required class="form-input"
              placeholder="vas@email.com">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Datum roÄ‘enja *</label>
            <input [(ngModel)]="contactForm.birthDate" name="birthDate" type="date" required class="form-input">
          </div>
          <div class="form-group">
            <label>Vreme roÄ‘enja</label>
            <input [(ngModel)]="contactForm.birthTime" name="birthTime" type="time" class="form-input">
          </div>
        </div>

        <div class="form-group">
          <label>Mesto roÄ‘enja *</label>
          <input [(ngModel)]="contactForm.birthPlace" name="birthPlace" type="text" required class="form-input"
            placeholder="Grad, zemlja">
        </div>

        <div class="form-group">
          <label>Dodatne informacije</label>

          <textarea *ngIf="isHoroscopeProduct" [(ngModel)]="contactForm.message" name="message1"
            class="form-input textarea"
            placeholder="OpiÅ¡ite Å¡ta vas posebno zanima ili na Äemu biste Å¾eleli da se fokusiramo...">
  </textarea>

          <textarea *ngIf="!isHoroscopeProduct" [(ngModel)]="contactForm.message" name="message2"
            class="form-input textarea" placeholder="Å ta Å¾eliÅ¡ da manifestujeÅ¡ ili oblast za koju Å¾eliÅ¡ sveÄ‡u">
  </textarea>
        </div>

        <button type="submit" class="submit-btn" [disabled]="!isFormValid()">
          ğŸ“§ Dodaj u korpu
        </button>
      </form>

      <div class="contact-info">
        <p><strong>ğŸ’« Vreme izrade:</strong> 3-5 radnih dana</p>
        <p><strong>ğŸ“§ Dostava:</strong> PDF dokument na email</p>
        <p><strong>ğŸ• Konsultacija:</strong> 60 minuta (opciono)</p>
      </div>
    </div>
  </div>
</div>