<div class="products-container">
  <h1>AstroloÅ¡ki Proizvodi</h1>
  <p class="intro">Otkrijte naÅ¡u kolekciju proizvoda koji Ä‡e vam pomoÄ‡i da se poveÅ¾ete sa kosmiÄkim energijama</p>

  <!-- Korpa -->
  <div class="cart-section" *ngIf="cartItems.length > 0">
    <h3>ğŸ›’ Korpa ({{ cartItems.length }})</h3>
    <div class="cart-items">
      <div *ngFor="let item of cartItems" class="cart-item">
        <span>{{ item.name }}</span>
        <span class="price">{{ item.price }} din</span>
        <button (click)="removeFromCart(item)" class="remove-btn">âœ•</button>
      </div>
    </div>
    <div class="cart-total">
      <strong>Ukupno: {{ getCartTotal() }} din</strong>
    </div>
    <div class="order-section">
      <h3>ğŸŒŸ PoruÄite svoje proizvode ğŸŒŸ</h3>
      <p>Kliknite dugme ispod da poruÄite odabrane proizvode</p>
      <button (click)="submitCartItems()" class="order-btn-large">
        PoruÄi Sada
      </button>
    </div>
  </div>

  <!-- Proizvodi -->
  <div class="products-grid">
    <!-- SveÄ‡e sa kristalima -->
    <div class="product-card">
      <div class="product-image">
        <div class="image-placeholder candle-image">
          <div class="candle-icon">ğŸ•¯ï¸</div>
          <div class="crystals">ğŸ’âœ¨ğŸ’</div>
          <div class="flame">ğŸ”¥</div>
        </div>
      </div>
      <div class="product-info">
        <h3>SveÄ‡a sa kristalima po natalnoj karti</h3>
        <p class="product-description">
        Personalizovana sveÄ‡a sa kristalima koji se biraju na osnovu tvoje natalne karte
        i sluÅ¾i za manifestovanje odreÄ‘ene oblasti Å¾ivota
        </p>
        <div class="product-features">
          <span class="feature">ğŸŒ™ Prirodni vosak</span>
          <span class="feature">ğŸ’ Kristali birani po tvojoj natalnoj</span>
          <span class="feature">â° Gorenje 30h</span>
          <span class="feature">ğŸŒŸ Upustvo za koriÅ¡Ä‡enje</span>
        </div>
        <div class="product-price">3,600 din</div>
        <button (click)="openProductModal()" class="add-to-cart-btn">
          PoruÄi svecu ğŸ“‹
        </button>
      </div>
    </div>

    <!-- MeseÄni horoskop -->
    <div class="product-card">
      <div class="product-image">
        <div class="image-placeholder horoscope-image">
          <div class="zodiac-wheel">
            <div class="zodiac-signs">â™ˆâ™‰â™Šâ™‹â™Œâ™</div>
            <div class="center-moon">ğŸŒ™</div>
            <div class="zodiac-signs bottom">â™â™â™â™‘â™’â™“</div>
          </div>
        </div>
      </div>
      <div class="product-info">
        <h3>AstroloÅ¡ka Konsultacija</h3>

       
         <ul class="product-description">
            <li> Izrada natalne karte </li>
            <li> GodiÅ¡nji horoskop </li>
            <li> Uporedni horoskop </li>
         </ul>
        <div class="product-features">
          <span class="feature">ğŸ“… Trajanje konsultacije 1h</span>
          <span class="feature">ğŸ“Š Online</span>
        </div>
        <div class="product-price">8,000 din</div>
        <button (click)="openHoroscopeModal()" class="add-to-cart-btn">
          ZakaÅ¾i termin ğŸ“‹
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="showHoroscopeModal" (click)="closeHoroscopeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2 *ngIf="isHoroscopeProduct">ğŸŒŸAstroloÅ¡ka Konsultacija </h2>
      <h2 *ngIf="!isHoroscopeProduct">ğŸŒŸ SveÄ‡a sa kristalima po natalnoj karti</h2>
      <button class="close-btn" (click)="closeHoroscopeModal()">âœ•</button>
    </div>

    <div class="modal-body">
      <p *ngIf="isHoroscopeProduct">Unesite vaÅ¡e podatke za izradu natalne karte!</p>
      <p *ngIf="!isHoroscopeProduct">Unesite vaÅ¡e podatke za odabir kristala!</p>
      <form class="contact-form" (ngSubmit)="submitContactForm()">
        <div class="form-row">
          <div class="form-group">
            <label>Ime i prezime *</label>
            <input [(ngModel)]="contactForm.name" name="name" type="text" required class="form-input"
              placeholder="VaÅ¡e ime">
          </div>
          <div class="form-group">
            <label>Email *</label>
            <input [(ngModel)]="contactForm.email" name="email" type="email" required class="form-input"
              placeholder="vas@email.com">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Datum roÄ‘enja *</label>
            <input [(ngModel)]="contactForm.birthDate" name="birthDate" type="date" required class="form-input">
          </div>
          <div class="form-group">
            <label>Vreme roÄ‘enja</label>
            <input [(ngModel)]="contactForm.birthTime" name="birthTime" type="time" class="form-input">
          </div>
        </div>

        <div class="form-group">
          <label>Mesto roÄ‘enja *</label>
          <input [(ngModel)]="contactForm.birthPlace" name="birthPlace" type="text" required class="form-input"
            placeholder="Grad, zemlja">
        </div>

        <div class="form-group">
          <label>Dodatne informacije</label>

          <textarea *ngIf="isHoroscopeProduct" [(ngModel)]="contactForm.message" name="message1"
            class="form-input textarea"
            placeholder="Ostavite kontakt telefon i predloÅ¾ite termin za konsultaciju">
          </textarea>

          <textarea *ngIf="!isHoroscopeProduct" [(ngModel)]="contactForm.message" name="message2"
            class="form-input textarea" placeholder="Å ta Å¾eliÅ¡ da manifestujeÅ¡ ">
  </textarea>
        </div>

        <button *ngIf="!isHoroscopeProduct" type="submit" class="submit-btn" [disabled]="!isFormValid()">
          ğŸ“§ Dodaj u korpu
        </button>
       <button *ngIf="isHoroscopeProduct" type="submit" class="submit-btn" [disabled]="!isFormValid()">
          ğŸ“§ ZakaÅ¾i termin
        </button>
      </form>

      <div class="contact-info">
        <p><strong>âœ” email:</strong> ivanovicvanja355@yahoo.com</p>
      </div>
    </div>
  </div>
</div>